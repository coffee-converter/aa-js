!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("moment")):"function"==typeof define&&define.amd?define(["moment"],n):"object"==typeof exports?exports["astronomical-algorithms"]=n(require("moment")):t["astronomical-algorithms"]=n(t.moment)}(window,function(t){return function(t){var n={};function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(a,i,function(n){return t[n]}.bind(null,i));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(n,e){n.exports=t},function(t,n,e){"use strict";e.r(n),Math.fmod=function(t,n){return Number((t-Math.floor(t/n)*n).toPrecision(8))},Math.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};var a={DEGREES_TO_RADIANS:.017453292519943295,RADIANS_TO_DEGREES:57.29577951308232,RADIANS_TO_HOURS:3.819718634205488,HOURS_TO_RADIANS:.26179938779914946,HOURS_TO_DEGREES:15,DEGREES_TO_HOURS:.06666666666666667},i=e(0),r=e.n(i);function o(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var u=2440588,c=864e5;function s(t){return new Date((t+.5-u)*c)}function E(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return 0===n.length&&(n[0]=new Date),n[0]instanceof Date?r()(n[0]).toDate().valueOf()/c-.5+u:Math.isNumber(n[0])?parseFloat(n[0]):void 0}function l(t,n){for(var e=(t-2451545)/36525,i=280.46061837+360.98564736629*(t-2451545)+387933e-9*e*e-e*e*e/3871e4;i<0;)i+=360;return Math.fmod((i+n)*a.DEGREES_TO_HOURS+24,24)}function D(t){return t-2400000.5}function f(t){return Math.floor(t-.5)+.5}var A=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=E.apply(void 0,arguments)}var n,e,a;return n=t,(e=[{key:"toDate",value:function(){return s(this.value)}},{key:"modifiedJulianDayValue",value:function(){return D(this.value)}},{key:"localSiderealTime",value:function(t){return l(this.value,t)}},{key:"midnightJulianDay",value:function(){return new t(f(this.value))}}])&&o(n.prototype,e),a&&o(n,a),t}(),R={J1970:u,J2000:2451545,getDate:s,getJulianDay:E,getLocalSiderealTime:l,getModifiedJulianDay:D,getJulianDayMidnight:f,JulianDay:A};function S(t){var n=t.julianDayValue,e=t.targetCoords,i=t.siteCoords;if(!(arguments&&n&&e&&i))return-1;var r=e.right_ascension/15||e.rightAscension,o=R.getLocalSiderealTime(n,i.longitude)-r,u=Math.cos(e.declination*a.DEGREES_TO_RADIANS),c=Math.sin(e.declination*a.DEGREES_TO_RADIANS),s=Math.cos(o*a.DEGREES_TO_RADIANS),E=Math.cos(i.latitude*a.DEGREES_TO_RADIANS),l=Math.sin(i.latitude*a.DEGREES_TO_RADIANS);return Math.asin(l*c+E*u*s)*a.RADIANS_TO_DEGREES}function h(t){var n=t.julianDayValue,e=t.targetCoords,i=t.siteCoords;if(!n||!e||!i)return-1;var r=e.right_ascension/15||e.rightAscension,o=R.getLocalSiderealTime(n,i.longitude)-r,u=Math.sin(o*a.DEGREES_TO_RADIANS),c=Math.cos(o*a.DEGREES_TO_RADIANS)*Math.sin(i.latitude*a.DEGREES_TO_RADIANS)-Math.tan(e.declination*a.DEGREES_TO_RADIANS)*Math.cos(i.latitude*a.DEGREES_TO_RADIANS),s=u,E=Math.atan2(s,c)*a.RADIANS_TO_DEGREES;return E<0&&(E+=360),E}var M={transformEclipticToEquatorial:function(t){var n=t.Lambda,e=t.Beta,i=t.Epsilon,r=n*a.DEGREES_TO_RADIANS,o=e*a.DEGREES_TO_RADIANS,u=i*a.DEGREES_TO_RADIANS,c=Math.atan2(Math.sin(r)*Math.cos(u)-Math.tan(o)*Math.sin(u),Math.cos(r));(c*=a.RADIANS_TO_HOURS)<0&&(c+=24);var s=Math.asin(Math.sin(o)*Math.cos(u)+Math.cos(o)*Math.sin(u)*Math.sin(r));return{rightAscension:c,declination:s*=a.RADIANS_TO_DEGREES}},transformMapPointToHorizontal:function(t){var n=t.point,e=t.center,i=t.radius,r=n.x-e.x,o=n.y-e.y,u=Math.pow(Math.pow(r,2)+Math.pow(o,2),.5);return{azimuth:Math.fmod(-1*Math.atan2(o,r)*a.RADIANS_TO_DEGREES+720-270,360),altitude:90*(1-u/i)}},transformHorizontalToMapPoint:function(t){var n=t.skyCoords,e=t.center,i=t.radius,r=t.validate||!0,o=(90-n.altitude)*Math.cos((n.azimuth-90)*a.DEGREES_TO_RADIANS)/90*i,u=(90-n.altitude)*Math.sin((n.azimuth-90)*a.DEGREES_TO_RADIANS)/90*i;return r&&(o>i||u>i||n.altitude<0)?{x:0,y:0}:{x:Math.round(e.x+o),y:Math.round(e.y-u)}},transformEquatorialToHorizontal:function(t){var n=t.julianDay,e=t.targetCoords,a=t.siteCoords;return n&&e&&a?{azimuth:h({julianDay:n,targetCoords:e,siteCoords:a}),altitude:S({julianDay:n,targetCoords:e,siteCoords:a})}:null},transformHorizontalToEquatorial:function(t){var n=t.julianDayValue,e=t.skyCoords,i=t.siteCoords;if(!n||!e||!i)return null;var r=Math.sin(e.azimuth*a.DEGREES_TO_RADIANS),o=Math.cos(e.azimuth*a.DEGREES_TO_RADIANS),u=Math.tan(e.altitude*a.DEGREES_TO_RADIANS),c=Math.cos(e.altitude*a.DEGREES_TO_RADIANS),s=Math.sin(e.altitude*a.DEGREES_TO_RADIANS),E=Math.sin(i.latitude*a.DEGREES_TO_RADIANS),l=Math.cos(i.latitude*a.DEGREES_TO_RADIANS),D=E*s-l*c*o,f=Math.asin(D)*a.RADIANS_TO_DEGREES,A=Math.atan2(r,o*E+u*l)*a.RADIANS_TO_HOURS,S=R.getLocalSiderealTime(n,i.longitude)-A;return{rightAscension:S=Math.fmod(S+24,24),declination:f}},getHorizontalAltitude:S,getHorizontalAzimuth:h};function d(t){var n=Math.fmod(t,360);return n<0&&(n+=360),n}var T={MapTo0To360Range:d,MapToMinus90To90Range:function(t){var n=d(t);return n>270?n-=360:n>180?n=180-n:n>90&&(n=180-n),n}};var _={DMSToDegrees:function(t,n,e){return!(arguments.length>3&&void 0!==arguments[3])||arguments[3]?t+n/60+e/3600:-1*t-n/60-e/3600}},g=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,-3,0,0,0],[2,-1,0,2,2,-3,0,0,0]].map(function(t){return{D:t[0],M:t[1],Mprime:t[2],F:t[3],omega:t[4],sincoeff1:t[5],sincoeff2:t[6],coscoeff1:t[7],coscoeff2:t[8]}});function p(t){for(var n=(t-2451545)/36525,e=n*n,i=e*n,r=T.MapTo0To360Range(297.85036+445267.11148*n-.0019142*e+i/189474),o=T.MapTo0To360Range(357.52772+35999.05034*n-1603e-7*e-i/3e5),u=T.MapTo0To360Range(134.96298+477198.867398*n+.0086972*e+i/56250),c=T.MapTo0To360Range(93.27191+483202.017538*n-.0036825*e+i/327270),s=T.MapTo0To360Range(125.04452-1934.136261*n+.0020708*e+i/45e4),E=0,l=0;l<g.length;l++){var D=g[l].D*r+g[l].M*o+g[l].Mprime*u+g[l].F*c+g[l].omega*s;E+=(g[l].coscoeff1+g[l].coscoeff2*n)*Math.cos(D*a.DEGREES_TO_RADIANS)*1e-4}return E}function y(t){var n=(t-2451545)/3652500,e=n*n,a=e*n,i=a*n,r=i*n,o=r*n,u=o*n,c=u*n,s=c*n,E=s*n;return _.DMSToDegrees(23,26,21.448)-_.DMSToDegrees(0,0,4680.93)*n-_.DMSToDegrees(0,0,1.55)*e+_.DMSToDegrees(0,0,1999.25)*a-_.DMSToDegrees(0,0,51.38)*i-_.DMSToDegrees(0,0,249.67)*r-_.DMSToDegrees(0,0,39.05)*o+_.DMSToDegrees(0,0,7.12)*u+_.DMSToDegrees(0,0,27.87)*c+_.DMSToDegrees(0,0,5.79)*s+_.DMSToDegrees(0,0,2.45)*E}var O={getNutationInLongitude:function(t){for(var n=(t-2451545)/36525,e=n*n,i=e*n,r=T.MapTo0To360Range(297.85036+445267.11148*n-.0019142*e+i/189474),o=T.MapTo0To360Range(357.52772+35999.05034*n-1603e-7*e-i/3e5),u=T.MapTo0To360Range(134.96298+477198.867398*n+.0086972*e+i/56250),c=T.MapTo0To360Range(93.27191+483202.017538*n-.0036825*e+i/327270),s=T.MapTo0To360Range(125.04452-1934.136261*n+.0020708*e+i/45e4),E=0,l=0;l<g.length;l++){var D=g[l].D*r+g[l].M*o+g[l].Mprime*u+g[l].F*c+g[l].omega*s;E+=(g[l].sincoeff1+g[l].sincoeff2*n)*Math.sin(D*a.DEGREES_TO_RADIANS)*1e-4}return E},getNutationInObliquity:p,getMeanObliquityOfEcliptic:y,getTrueObliquityOfEcliptic:function(t){return y(t)+_.DMSToDegrees(0,0,p(t))}};function v(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var m=[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629],[284,1.899,796.298],[271,.315,10977.079],[243,.345,5486.778],[206,4.806,2544.314],[205,1.869,5573.143],[202,2.458,6069.777],[156,.833,213.299],[132,3.411,2942.463],[126,1.083,20.775],[115,.645,.98],[103,.636,4694.003],[102,.976,15720.839],[102,4.267,7.114],[99,6.21,2146.17],[98,.68,155.42],[86,5.98,161000.69],[85,1.3,6275.96],[85,3.67,71430.7],[80,1.81,17260.15],[79,3.04,12036.46],[75,1.76,5088.63],[74,3.5,3154.69],[74,4.68,801.82],[70,.83,9437.76],[62,3.98,8827.39],[61,1.82,7084.9],[57,2.78,6286.6],[56,4.39,14143.5],[56,3.47,6279.55],[52,.19,12139.55],[52,1.33,1748.02],[51,.28,5856.48],[49,.49,1194.45],[41,5.37,8429.24],[41,2.4,19651.05],[39,6.17,10447.39],[37,6.04,10213.29],[37,2.57,1059.38],[36,1.71,2352.87],[36,1.78,6812.77],[33,.59,17789.85],[30,.44,83996.85],[30,2.74,1349.87],[25,3.16,4690.48]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),N=[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42],[45,.4,796.3],[36,.47,775.52],[29,2.65,7.11],[21,5.34,.98],[19,1.85,5486.78],[19,4.97,213.3],[17,2.99,6275.96],[16,.03,2544.31],[16,1.43,2146.17],[15,1.21,10977.08],[12,2.83,1748.02],[12,3.26,5088.63],[12,5.27,1194.45],[12,2.08,4694],[11,.77,553.57],[10,1.3,6286.6],[10,4.24,1349.87],[9,2.7,242.73],[9,5.64,951.72],[8,5.3,2352.87],[6,2.65,9437.76],[6,4.67,4690.48]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),I=[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152],[27,.05,3.52],[16,5.19,26.3],[16,3.68,155.42],[10,.76,18849.23],[9,2.06,77713.77],[7,.83,775.52],[5,4.66,1577.34],[4,1.03,7.11],[4,3.44,5573.14],[3,5.14,796.3],[3,6.05,5507.55],[3,1.19,242.73],[3,6.12,529.69],[3,.31,398.15],[3,2.28,553.57],[2,4.38,5223.69],[2,3.75,.98]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),G=[[289,5.844,6283.076],[35,0,0],[17,5.49,12566.15],[3,5.2,155.42],[1,4.72,3.52],[1,5.3,18849.23],[1,5.97,242.73]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),C=[[114,3.142,0],[8,4.13,6283.08],[1,3.84,12566.15]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),j=[[1,3.14,0]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),b=[[280,3.199,84334.662],[102,5.422,5507.553],[80,3.88,5223.69],[44,3.7,2352.87],[32,4,1577.34]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),B=[[9,3.9,5507.55],[6,1.73,5223.69]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),L=[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694],[307,.299,5573.143],[243,4.273,11790.629],[212,5.847,1577.344],[186,5.022,10977.079],[175,3.012,18849.228],[110,5.055,5486.778],[98,.89,6069.78],[86,5.69,15720.84],[86,1.27,161000.69],[65,.27,17260.15],[63,.92,529.69],[57,2.01,83996.85],[56,5.24,71430.7],[49,3.25,2544.31],[47,2.58,775.52],[45,5.54,9437.76],[43,6.01,6275.96],[39,5.36,4694],[38,2.39,8827.39],[37,.83,19651.05],[37,4.9,12139.55],[36,1.67,12036.46],[35,1.84,2942.46],[33,.24,7084.9],[32,.18,5088.63],[32,1.78,398.15],[28,1.21,6286.6],[28,1.9,6279.55],[26,4.59,10447.39]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),k=[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23],[31,2.84,5507.55],[25,1.32,5223.69],[18,1.42,1577.34],[10,5.91,10977.08],[9,1.42,6275.96],[9,.27,5486.78]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),q=[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0],[9,3.63,77713.77],[6,1.87,5573.14],[3,5.47,18849.23]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),w=[[145,4.273,6283.076],[7,3.92,12566.15]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),J=[[4,2.56,6283.08]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),H=[[628307584999,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42],[45,.4,796.3],[36,.47,775.52],[29,2.65,7.11],[21,5.43,.98],[19,1.85,5486.78],[19,4.97,213.3],[17,2.99,6275.96],[16,.03,2544.31],[16,1.43,2146.17],[15,1.21,10977.08],[12,2.83,1748.02],[12,3.26,5088.63],[12,5.27,1194.45],[12,2.08,4694],[11,.77,553.57],[10,1.3,6286.6],[10,4.24,1349.87],[9,2.7,242.73],[9,5.64,951.72],[8,5.3,2352.87],[6,2.65,9437.76],[6,4.67,4690.48]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),x=[[8722,1.0725,6283.0758],[991,3.1416,0],[295,.437,12566.152],[27,.05,3.52],[16,5.19,26.3],[16,3.69,155.42],[9,.3,18849.23],[9,2.06,77713.77],[7,.83,775.52],[5,4.66,1577.34],[4,1.03,7.11],[4,3.44,5573.14],[3,5.14,796.3],[3,6.05,5507.55],[3,1.19,242.73],[3,6.12,529.69],[3,.3,398.15],[3,2.28,553.57],[2,4.38,5223.69],[2,3.75,.98]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),z=[[289,5.842,6283.076],[21,6.05,12566.15],[3,5.2,155.42],[3,3.14,0],[1,4.72,3.52],[1,5.97,242.73],[1,5.54,18849.23]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),P=[[8,4.14,6283.08],[1,3.28,12566.15]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),V=[[227778,3.413766,6283.07585],[3806,3.3706,12566.1517],[3620,0,0],[72,3.33,18849.23],[8,3.89,5507.55],[8,1.79,5223.69],[6,5.2,2352.87]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),F=[[9721,5.1519,6283.07585],[233,3.1416,0],[134,.644,12566.152],[7,1.07,18849.23]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),U=[[276,.595,6283.076],[17,3.14,0],[4,.12,12566.15]].map(function(t){return{A:t[0],B:t[1],C:t[2]}}),K=[[6,2.27,6283.08],[1,0,0]].map(function(t){return{A:t[0],B:t[1],C:t[2]}});function Q(t){var n=(t-2451545)/365250,e=n*n,i=e*n,r=i*n,o=r*n,u=m.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),c=N.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),s=I.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),E=G.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),l=C.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),D=j.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),f=(u+c*n+s*e+E*i+l*r+D*o)/1e8;return T.MapTo0To360Range(f*a.RADIANS_TO_DEGREES)}function W(t){var n=(t-2451545)/365250,e=(b.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0)+B.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0)*n)/1e8;return T.MapToMinus90To90Range(e*a.RADIANS_TO_DEGREES)}function X(t){var n=(t-2451545)/365250,e=n*n,a=e*n,i=a*n,r=L.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),o=k.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),u=q.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),c=w.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),s=J.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0);return(r+o*n+u*e+c*a+s*i)/1e8}function Y(t){var n=(t-2451545)/365250,e=n*n,i=e*n,r=i*n,o=m.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),u=H.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),c=x.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),s=z.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),E=P.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),l=(o+u*n+c*e+s*i+E*r)/1e8;return T.MapTo0To360Range(l*a.RADIANS_TO_DEGREES)}function Z(t){var n=(t-2451545)/365250,e=n*n,i=e*n,r=i*n,o=b.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),u=V.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),c=F.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),s=U.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),E=K.reduce(function(t,e){return t+e.A*Math.cos(e.B+e.C*n)},0),l=(o+u*n+c*e+s*i+E*r)/1e8;return T.MapToMinus90To90Range(l*a.RADIANS_TO_DEGREES)}var $=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.julianDay=n}var n,e,a;return n=t,(e=[{key:"radiusVector",value:function(){return X(this.julianDay)}},{key:"eclipticCoordinates",value:function(){return{longitude:Q(this.julianDay),latitude:W(this.julianDay)}}},{key:"eclipticCoordinatesJ2000",value:function(){return{longitude:Y(this.julianDay),latitude:Z(this.julianDay)}}},{key:"equatorialCoordinates",value:function(){return M.transformEclipticToEquatorial(Q(this.julianDay),W(this.julianDay),O.getMeanObliquityOfEcliptic(this.julianDay))}},{key:"equatorialCoordinatesJ2000",value:function(){return M.transformEclipticToEquatorial(Y(this.julianDay),Z(this.julianDay),O.getMeanObliquityOfEcliptic(this.julianDay))}}])&&v(n.prototype,e),a&&v(n,a),t}(),tt={getEclipticLongitude:Q,getEclipticLatitude:W,getEclipticLongitudeJ2000:Y,getEclipticLatitudeJ2000:Z,getRadiusVector:X,getSunMeanAnomaly:function(t){var n=(t-2451545)/36525,e=n*n,a=e*n;return T.MapTo0To360Range(357.5291092+35999.0502909*n-1536e-7*e+a/2449e4)},getEccentricity:function(t){var n=(t-2451545)/36525;return 1-.002516*n-74e-7*(n*n)},Earth:$};function nt(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var et=[[0,0,1,0],[2,0,-1,0],[2,0,0,0],[0,0,2,0],[0,1,0,0],[0,0,0,2],[2,0,-2,0],[2,-1,-1,0],[2,0,1,0],[2,-1,0,0],[0,1,-1,0],[1,0,0,0],[0,1,1,0],[2,0,0,-2],[0,0,1,2],[0,0,1,-2],[4,0,-1,0],[0,0,3,0],[4,0,-2,0],[2,1,-1,0],[2,1,0,0],[1,0,-1,0],[1,1,0,0],[2,-1,1,0],[2,0,2,0],[4,0,0,0],[2,0,-3,0],[0,1,-2,0],[2,0,-1,2],[2,-1,-2,0],[1,0,1,0],[2,-2,0,0],[0,1,2,0],[0,2,0,0],[2,-2,-1,0],[2,0,1,-2],[2,0,0,2],[4,-1,-1,0],[0,0,2,2],[3,0,-1,0],[2,1,1,0],[4,-1,-2,0],[0,2,-1,0],[2,2,-1,0],[2,1,-2,0],[2,-1,0,-2],[4,0,1,0],[0,0,4,0],[4,-1,0,0],[1,0,-2,0],[2,1,0,-2],[0,0,2,-2],[1,1,1,0],[3,0,-2,0],[4,0,-3,0],[2,-1,2,0],[0,2,1,0],[1,1,-1,0],[2,0,3,0],[2,0,-1,-2]].map(function(t){return{D:t[0],M:t[1],Mdash:t[2],F:t[3]}}),at=[[6288774,-20905355],[1274027,-3699111],[658314,-2955968],[213618,-569925],[-185116,48888],[-114332,-3149],[58793,246158],[57066,-152138],[53322,-170733],[45758,-204586],[-40923,-129620],[-34720,108743],[-30383,104755],[15327,10321],[-12528,0],[10980,79661],[10675,-34782],[10034,-23210],[8548,-21636],[-7888,24208],[-6766,30824],[-5163,-8379],[4987,-16675],[4036,-12831],[3994,-10445],[3861,-11650],[3665,14403],[-2689,-7003],[-2602,0],[2390,10056],[-2348,6322],[2236,-9884],[-2120,5751],[-2069,0],[2048,-4950],[-1773,4130],[-1595,0],[1215,-3958],[-1110,0],[-892,3258],[-810,2616],[759,-1897],[-713,-2117],[-700,2354],[691,0],[596,0],[549,-1423],[537,-1117],[520,-1571],[-487,-1739],[-399,0],[-381,-4421],[351,0],[-340,0],[330,0],[327,0],[-323,1165],[299,0],[294,0],[0,8752]].map(function(t){return{A:t[0],B:t[1]}}),it=[[0,0,0,1],[0,0,1,1],[0,0,1,-1],[2,0,0,-1],[2,0,-1,1],[2,0,-1,-1],[2,0,0,1],[0,0,2,1],[2,0,1,-1],[0,0,2,-1],[2,-1,0,-1],[2,0,-2,-1],[2,0,1,1],[2,1,0,-1],[2,-1,-1,1],[2,-1,0,1],[2,-1,-1,-1],[0,1,-1,-1],[4,0,-1,-1],[0,1,0,1],[0,0,0,3],[0,1,-1,1],[1,0,0,1],[0,1,1,1],[0,1,1,-1],[0,1,0,-1],[1,0,0,-1],[0,0,3,1],[4,0,0,-1],[4,0,-1,1],[0,0,1,-3],[4,0,-2,1],[2,0,0,-3],[2,0,2,-1],[2,-1,1,-1],[2,0,-2,1],[0,0,3,-1],[2,0,2,1],[2,0,-3,-1],[2,1,-1,1],[2,1,0,1],[4,0,0,1],[2,-1,1,1],[2,-2,0,-1],[0,0,1,3],[2,1,1,-1],[1,1,0,-1],[1,1,0,1],[0,1,-2,-1],[2,1,-1,-1],[1,0,1,1],[2,-1,-2,-1],[0,1,2,1],[4,0,-2,-1],[4,-1,-1,-1],[1,0,1,-1],[4,0,1,-1],[1,0,-1,-1],[4,-1,0,-1],[2,-2,0,1]].map(function(t){return{D:t[0],M:t[1],Mdash:t[2],F:t[3]}}),rt=[5128122,280602,277693,173237,55413,46271,32573,17198,9266,8822,8216,4324,4200,-3359,2463,2211,2065,-1870,1828,-1794,-1749,-1565,-1491,-1475,-1410,-1344,-1335,1107,1021,833,777,671,607,596,491,-451,439,422,421,-366,-351,331,315,302,-283,-229,223,223,-220,-220,-185,181,-177,176,166,-164,132,-119,115,107];function ot(t){var n=(t-2451545)/36525,e=n*n,a=e*n,i=a*n;return T.MapTo0To360Range(218.3164477+481267.88123421*n-.0015786*e+a/538841-i/65194e3)}function ut(t){var n=(t-2451545)/36525,e=n*n,a=e*n,i=a*n;return T.MapTo0To360Range(297.8501921+445267.1114034*n-.0018819*e+a/545868-i/113065e3)}function ct(t){var n=(t-2451545)/36525,e=n*n,a=e*n,i=a*n;return T.MapTo0To360Range(134.9633964+477198.8675055*n+.0087414*e+a/69699-i/14712e3)}function st(t){var n=(t-2451545)/36525,e=n*n,a=e*n,i=a*n;return T.MapTo0To360Range(93.272095+483202.0175233*n-.0036539*e-a/3526e3+i/86331e4)}function Et(t){for(var n=ot(t)*a.DEGREES_TO_RADIANS,e=ut(t)*a.DEGREES_TO_RADIANS,i=tt.getSunMeanAnomaly(t)*a.DEGREES_TO_RADIANS,r=ct(t)*a.DEGREES_TO_RADIANS,o=st(t)*a.DEGREES_TO_RADIANS,u=tt.getEccentricity(t),c=u*u,s=(t-2451545)/36525,E=T.MapTo0To360Range(119.75+131.849*s)*a.DEGREES_TO_RADIANS,l=T.MapTo0To360Range(53.09+479264.29*s)*a.DEGREES_TO_RADIANS,D=0,f=0;f<et.length;f++){var A=at[f].A*Math.sin(et[f].D*e+et[f].M*i+et[f].Mdash*r+et[f].F*o);1===et[f].M||-1===et[f].M?A*=u:2!==et[f].M&&-2!==et[f].M||(A*=c),D+=A}D+=3958*Math.sin(E),D+=1962*Math.sin(n-o),D+=318*Math.sin(l);var R=O.getNutationInLongitude(t),S=n*a.RADIANS_TO_DEGREES;return T.MapTo0To360Range(S+D/1e6+R/3600)}function lt(t){for(var n=ot(t)*a.DEGREES_TO_RADIANS,e=ut(t)*a.DEGREES_TO_RADIANS,i=tt.getSunMeanAnomaly(t)*a.DEGREES_TO_RADIANS,r=ct(t)*a.DEGREES_TO_RADIANS,o=st(t)*a.DEGREES_TO_RADIANS,u=tt.getEccentricity(t),c=u*u,s=(t-2451545)/36525,E=T.MapTo0To360Range(119.75+131.849*s)*a.DEGREES_TO_RADIANS,l=T.MapTo0To360Range(313.45+481266.484*s)*a.DEGREES_TO_RADIANS,D=0,f=0;f<it.length;f++){var A=rt[f]*Math.sin(it[f].D*e+it[f].M*i+it[f].Mdash*r+it[f].F*o);1===it[f].M||-1===it[f].M?A*=u:2!==it[f].M&&-2!==it[f].M||(A*=c),D+=A}return D-=2235*Math.sin(n),D+=382*Math.sin(l),D+=175*Math.sin(E-o),D+=175*Math.sin(E+o),D+=127*Math.sin(n-r),(D-=115*Math.sin(n+r))/1e6}function Dt(t){for(var n=ut(t)*a.DEGREES_TO_RADIANS,e=tt.getSunMeanAnomaly(t)*a.DEGREES_TO_RADIANS,i=ct(t)*a.DEGREES_TO_RADIANS,r=st(t)*a.DEGREES_TO_RADIANS,o=tt.getEccentricity(t),u=o*o,c=0,s=0;s<et.length;s++){var E=at[s].B*Math.cos(et[s].D*n+et[s].M*e+et[s].Mdash*i+et[s].F*r);1===et[s].M||-1===et[s].M?E*=o:2!==et[s].M&&-2!==et[s].M||(E*=u),c+=E}return 385000.56+c/1e3}function ft(t){return a.RADIANS_TO_DEGREES*Math.asin(6378.14/t)}function At(t){var n=(t-2451545)/36525,e=n*n,a=e*n,i=a*n;return T.MapTo0To360Range(125.0445479-1934.1362891*n+.0020754*e+a/467441-i/60616e3)}function Rt(t){var n=(t-2451545)/36525,e=n*n,a=e*n,i=a*n;return T.MapTo0To360Range(83.3532465+4069.0137287*n-.01032*e-a/80053+i/18999e3)}function St(t){var n=At(t),e=ut(t)*a.DEGREES_TO_RADIANS,i=tt.getSunMeanAnomaly(t)*a.DEGREES_TO_RADIANS,r=ct(t)*a.DEGREES_TO_RADIANS,o=st(t)*a.DEGREES_TO_RADIANS;return n-=1.4979*Math.sin(2*(e-o)),n-=.15*Math.sin(i),n-=.1226*Math.sin(2*e),n+=.1176*Math.sin(2*o),n-=.0801*Math.sin(2*(r-o)),T.MapTo0To360Range(n)}var ht=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.julianDay=n}var n,e,a;return n=t,(e=[{key:"meanLongitude",value:function(){return ot(this.julianDay)}},{key:"meanElongation",value:function(){return ut(this.julianDay)}},{key:"meanAnomaly",value:function(){return ct(this.julianDay)}},{key:"argumentOfLatitude",value:function(){return st(this.julianDay)}},{key:"radiusVector",value:function(){return Dt(this.julianDay)}},{key:"horizontalParallax",value:function(){return ft(this.radiusVector())}},{key:"eclipticCoordinates",value:function(){return{longitude:Et(this.julianDay),latitude:lt(this.julianDay)}}},{key:"equatorialCoordinates",value:function(){return M.transformEclipticToEquatorial({Lambda:Et(this.julianDay),Beta:lt(this.julianDay),Epsilon:O.getMeanObliquityOfEcliptic(this.julianDay)})}},{key:"meanLongitudeAscendingNode",value:function(){return At(this.julianDay)}},{key:"meanLongitudePerigee",value:function(){return Rt(this.julianDay)}},{key:"trueLongitudeAscendingNode",value:function(){return St(this.julianDay)}}])&&nt(n.prototype,e),a&&nt(n,a),t}(),Mt={getMeanLongitude:ot,getMeanElongation:ut,getMeanAnomaly:ct,getArgumentOfLatitude:st,getRadiusVector:Dt,transformRadiusVectorToHorizontalParallax:ft,transformHorizontalParallaxToRadiusVector:function(t){return 6378.14/Math.sin(a.DEGREES_TO_RADIANS*t)},getMeanLongitudeAscendingNode:At,getMeanLongitudePerigee:Rt,getTrueLongitudeAscendingNode:St,Moon:ht};var dt={getCorrectionInLongitude:function(t,n,e){var i=(e-2451545)/36525,r=t-1.397*i-31e-5*i*i;r*=a.DEGREES_TO_RADIANS,n*=a.DEGREES_TO_RADIANS;var o=.03916*(Math.cos(r)+Math.sin(r))*Math.tan(n)-.09033;return _.DMSToDegrees(0,0,o)},getCorrectionInLatitude:function(t,n){var e=(n-2451545)/36525,i=t-1.397*e-31e-5*e*e;i*=a.DEGREES_TO_RADIANS;var r=.03916*(Math.cos(i)-Math.sin(i));return _.DMSToDegrees(0,0,r)}};function Tt(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _t(t){return T.MapTo0To360Range(tt.getEclipticLongitude(t)+180)}function gt(t){return-tt.getEclipticLatitude(t)}function pt(t){return T.MapTo0To360Range(tt.getEclipticLongitudeJ2000(t)+180)}function yt(t){return-tt.getEclipticLatitudeJ2000(t)}function Ot(t){var n=_t(t),e=gt(t);return n+=dt.getCorrectionInLongitude(n,e,t)}function vt(t){var n=_t(t),e=gt(t);return e+=dt.getCorrectionInLatitude(n,t)}function mt(t){var n=Ot(t);n+=_.DMSToDegrees(0,0,O.getNutationInLongitude(t));var e=tt.getRadiusVector(t);return n-=_.DMSToDegrees(0,0,20.4898/e)}function Nt(t){return vt(t)}var It=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.julianDay=n}var n,e,a;return n=t,(e=[{key:"eclipticCoordinates",value:function(){return{longitude:_t(this.julianDay),latitude:gt(this.julianDay)}}},{key:"eclipticCoordinatesJ2000",value:function(){return{longitude:pt(this.julianDay),latitude:yt(this.julianDay)}}},{key:"apparentEclipticCoordinates",value:function(){return{longitude:mt(this.julianDay),latitude:Nt(this.julianDay)}}},{key:"equatorialCoordinates",value:function(){return M.transformEclipticToEquatorial({Lambda:_t(this.julianDay),Beta:gt(this.julianDay),Epsilon:O.getMeanObliquityOfEcliptic(this.julianDay)})}},{key:"equatorialCoordinatesJ2000",value:function(){return M.transformEclipticToEquatorial({Lambda:pt(this.julianDay),Beta:yt(this.julianDay),Epsilon:O.getMeanObliquityOfEcliptic(this.julianDay)})}},{key:"apparentEquatorialCoordinates",value:function(){return M.transformEclipticToEquatorial({Lambda:mt(this.julianDay),Beta:Nt(this.julianDay),Epsilon:O.getTrueObliquityOfEcliptic(this.julianDay)})}}])&&Tt(n.prototype,e),a&&Tt(n,a),t}(),Gt={getGeometricEclipticLongitude:_t,getGeometricEclipticLatitude:gt,getGeometricEclipticLongitudeJ2000:pt,getGeometricEclipticLatitudeJ2000:yt,getGeometricFK5EclipticLongitude:Ot,getGeometricFK5EclipticLatitude:vt,getApparentEclipticLongitude:mt,getApparentEclipticLatitude:Nt,getVariationGeometricEclipticLongitude:function(t){var n=(t-2451545)/365250,e=n*n,i=e*n;return 3548.193+118.568*Math.sin(a.DEGREES_TO_RADIANS(87.5287+359993.7286*n))+2.476*Math.sin(a.DEGREES_TO_RADIANS(85.0561+719987.4571*n))+1.376*Math.sin(a.DEGREES_TO_RADIANS(27.8502+4452671.1152*n))+.119*Math.sin(a.DEGREES_TO_RADIANS(73.1375+450368.8564*n))+.114*Math.sin(a.DEGREES_TO_RADIANS(337.2264+329644.6718*n))+.086*Math.sin(a.DEGREES_TO_RADIANS(222.54+659289.3436*n))+.078*Math.sin(a.DEGREES_TO_RADIANS(162.8136+9224659.7915*n))+.054*Math.sin(a.DEGREES_TO_RADIANS(82.5823+1079981.1857*n))+.052*Math.sin(a.DEGREES_TO_RADIANS(171.5189+225184.4282*n))+.034*Math.sin(a.DEGREES_TO_RADIANS(30.3214+4092677.3866*n))+.033*Math.sin(a.DEGREES_TO_RADIANS(119.8105+337181.4711*n))+.023*Math.sin(a.DEGREES_TO_RADIANS(247.5418+299295.6151*n))+.023*Math.sin(a.DEGREES_TO_RADIANS(325.1526+315559.556*n))+.021*Math.sin(a.DEGREES_TO_RADIANS(155.1241+675553.2846*n))+7.311*n*Math.sin(a.DEGREES_TO_RADIANS(333.4515+359993.7286*n))+.305*n*Math.sin(a.DEGREES_TO_RADIANS(330.9814+719987.4571*n))+.01*n*Math.sin(a.DEGREES_TO_RADIANS(328.517+1079981.1857*n))+.309*e*Math.sin(a.DEGREES_TO_RADIANS(241.4518+359993.7286*n))+.021*e*Math.sin(a.DEGREES_TO_RADIANS(205.0482+719987.4571*n))+.004*e*Math.sin(a.DEGREES_TO_RADIANS(297.861+4452671.1152*n))+.01*i*Math.sin(a.DEGREES_TO_RADIANS(154.7066+359993.7286*n))},Sun:It};var Ct={getRAInHours:function(t){var n=t.right_ascension;return t.right_ascension_units&&"deg"===t.right_ascension_units.toLowerCase().substring(0,3)&&(n/=15),n},getRiseSetTransitTimes:function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=R.JulianDay(t).midnightJulianDay(),o={isRiseValid:!1,isSetValid:!1,isTransitValid:!1,isIsTransitAboveHorizon:!1,hoursRise:0,hoursSet:0,hoursTransit:0},u=r.localSiderealTime(0);u*=15;var c=n.declination*a.DEGREES_TO_RADIANS,s=e.latitude*a.DEGREES_TO_RADIANS,E=i*a.DEGREES_TO_RADIANS,l=(Math.sin(E)-Math.sin(s)*Math.sin(c))/(Math.cos(s)*Math.cos(c));l<-1?l+=1:l>1&&(l-=1);var D=Math.acos(l)*a.RADIANS_TO_DEGREES,f=(n.right_ascension+e.longitude-u)/360,A=f-D/360,S=f+D/360;return o.hoursRise=r.value+A,o.hoursSet=r.value+S,o.hoursTransit=r.value+f,o},getTransitAltitude:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=1;if(null!=e){var r=R.getLocalSiderealTime(e,n.longitude),o=this.getRAInHours(t);i=Math.cos((r-o)*a.HOURS_TO_RADIANS)}var u=Math.sin(n.latitude*a.DEGREES_TO_RADIANS),c=Math.sin(t.declination*a.DEGREES_TO_RADIANS),s=Math.cos(n.latitude*a.DEGREES_TO_RADIANS),E=Math.cos(t.declination*a.DEGREES_TO_RADIANS);return Math.asin(u*c+s*E*i)*a.RADIANS_TO_DEGREES}};e.d(n,"coordinates",function(){return M}),e.d(n,"earth",function(){return tt}),e.d(n,"julianday",function(){return R}),e.d(n,"moon",function(){return Mt}),e.d(n,"sun",function(){return Gt}),e.d(n,"nutation",function(){return O}),e.d(n,"transits",function(){return Ct})}])});